(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{215:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"webpack入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack入门","aria-hidden":"true"}},[t._v("#")]),t._v(" Webpack入门")]),t._v(" "),a("h2",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),a("p",[t._v("webpack默认配置文件：webpack.config.js\n可在package.json的scripts打包命令中通过webpack --config指定配置文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"scripts": {\n"test": "echo \\"Error: no test specified\\" && exit 1",\n"build": "webpack --config webpack.prod.js",\n"watch": "webpack --watch",\n"dev": "webpack-dev-server --config webpack.dev.js --open"\n},\n')])])]),a("h2",{attrs:{id:"webpack配置组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置组成","aria-hidden":"true"}},[t._v("#")]),t._v(" webpack配置组成")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("moudle.export = {\n    entry: './src/index.js',             // 1、打包的入口文件（必填）\n    output: './dist/main.js'          // 2、打包的输出（必填）\n    mode: 'production',             // 3、环境\n    moudle: {                              // 4、loader配置\n        rules: [\n            { test: /\\.txt$/, use: 'raw-loader' }   \n        ]\n    },\n    plugins: [                               // 5、插件配置\n        new HtmlwebpackPlugin({\n            template: './src/index.html'\n        })\n    ]\n}\n")])])]),a("h2",{attrs:{id:"安装webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装webpack","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装webpack")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install webpack webpack-cli --save-dev\n")])])]),a("p",[t._v("验证是否安装成功")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./node_moudles/.bin/webpack -v\n")])])]),a("h2",{attrs:{id:"webpack打包案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包案例","aria-hidden":"true"}},[t._v("#")]),t._v(" webpack打包案例")]),t._v(" "),a("p",[t._v("E:\\learnspace\\webpack-demo")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"entry的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entry的用法","aria-hidden":"true"}},[t._v("#")]),t._v(" Entry的用法")]),t._v(" "),a("p",[t._v("单入口，entry是字符串")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("entry: '...'\n")])])]),a("p",[t._v("多文件，entry是对象")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("entry: {\n    app: '...',\n    adminApp: '...'\n}\n")])])]),a("h2",{attrs:{id:"output的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output的用法","aria-hidden":"true"}},[t._v("#")]),t._v(" Output的用法")]),t._v(" "),a("p",[t._v("告诉webpack将编译后的文件输出到磁盘")]),t._v(" "),a("p",[t._v("单入口")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = {\n    entry: '...',\n    output: {\n        filename: 'bundle.js',\n        path: __dirname + '/dist'\n    }\n}\n")])])]),a("p",[t._v("多入口")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = {\n    entry: {\n        app: '...',\n        search: '...'\n    },\n    output: {\n        filename: '[name].js',\n        path: __dirname + '/dist'\n    }\n}\n")])])]),a("h2",{attrs:{id:"loaders"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loaders","aria-hidden":"true"}},[t._v("#")]),t._v(" loaders")]),t._v(" "),a("p",[t._v("webpack开箱只支持js和json两种文件类型，通过loaders去支持其它文件类型并且将他们转化为有效的模块，并且可以添加到依赖图中。\n本身是一个函数，接受源文件作为参数，返回转换的结果。")]),t._v(" "),a("h3",{attrs:{id:"常见的loaders"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的loaders","aria-hidden":"true"}},[t._v("#")]),t._v(" 常见的loaders:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("babel-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("转换ES6、ES7等JS新特性语法")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("css-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("支持.css文件的加载和解析")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("less-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将less文件转换成css")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ts-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将ts转换成js")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("file-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("进行图片、字体等的打包")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("raw-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将文件以字符串的形式导入")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("thread-loader")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("多进程打包js和css")])])])]),t._v(" "),a("h3",{attrs:{id:"loaders的用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loaders的用法","aria-hidden":"true"}},[t._v("#")]),t._v(" loaders的用法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = {\n    entry: '...',\n    output: {\n        filename: 'bundle.js',\n        path: __dirname + '/dist'\n    }，\n    module: {\n        rules: [\n            // test指定匹配规则，use指定使用的loader名称\n            { test: /\\.txt$/, use: 'raw-loader' }\n        ]\n    }\n}\n")])])]),a("h2",{attrs:{id:"plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),a("p",[t._v("插件用于bundle文件的优化，资源管理和环境变量的注入，作用于整个构建过程")]),t._v(" "),a("h3",{attrs:{id:"常见的plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的plugins","aria-hidden":"true"}},[t._v("#")]),t._v(" 常见的Plugins:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("CommonChunkPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将chunks相同的模块代码提取成公共js")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("CleanWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("清理构建目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ExtractTextWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将css从bundle文件里提取成一个独立的css文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("CopyWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将文件或者文件夹拷贝到构建的输出目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("HtmlWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("创建html文件去承载输出的bundle")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("UglifyjsWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("压缩JS")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ZipWebpackPlugin")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将打包出的资源生成一个zip包")])])])]),t._v(" "),a("h3",{attrs:{id:"plugins-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = {\n    entry: '...',\n    output: {\n        filename: 'bundle.js',\n        path: __dirname + '/dist'\n    }，\n    module: {\n        rules: [\n            // test指定匹配规则，use指定使用的loader名称\n            { test: /\\.txt$/, use: 'raw-loader' }\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './src/index.html'\n        })\n    ]\n}\n")])])]),a("h2",{attrs:{id:"mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode","aria-hidden":"true"}},[t._v("#")]),t._v(" Mode")]),t._v(" "),a("p",[t._v("默认值production")]),t._v(" "),a("h3",{attrs:{id:"mode的内置函数功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode的内置函数功能","aria-hidden":"true"}},[t._v("#")]),t._v(" Mode的内置函数功能")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("选项")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("development")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设置process.env.NODE_ENV的值为development，开启NamedChunksPlugin和NamedModulesPlugin")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("production")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("设置process.env.NODE_ENV的值为production，开启FlagDependencyUsagePlugin，FlagIncludedChunksPlugin，ModuleConcatenationPlugin，NoEmitOnErrorPlugin，OccurrenceOrderPlugin，SideEffectsFlagPlugin和TerserPlugin")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("none")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("不开启任何优化选项")])])])]),t._v(" "),a("h2",{attrs:{id:"文件监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件监听","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件监听")]),t._v(" "),a("p",[t._v("开启监听模式，两种模式：")]),t._v(" "),a("p",[t._v("1、启动webpack命令时，加上 --watch参数（一般用这种，缺陷：每次要手动刷新浏览器）")]),t._v(" "),a("p",[t._v("2、配置webpack.config.js中设置watch: true")]),t._v(" "),a("h3",{attrs:{id:"文件监听的原理分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件监听的原理分析","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件监听的原理分析")]),t._v(" "),a("p",[t._v("轮询判断文件的最后编辑时间是否变化")]),t._v(" "),a("p",[t._v("某一个文件发生了变化，并不会立刻告诉坚挺着，而是先缓存起来，等aggregateTimeout")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.export = {\n    // 默认false，不开启\n    watch: true,\n    // 只有开启监听模式时，watchOption才有效\n    watchOptions: {\n        // 默认为空，不监听的文件或者文件夹，支持正则匹配\n        ignored: /node_modules/,\n        // 监听到变化发生后等300ms再去执行，默认300ms\n        aggrementTimeout: 300,\n        // 判断文件是否发生变化是通过不停询问系统指定文件有没有发生变化实现的，默认每秒询问1000次\n        poll: 1000\n    }\n}\n")])])]),a("h2",{attrs:{id:"热更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#热更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 热更新")]),t._v(" "),a("p",[t._v("webpack-dev-server，不刷新浏览器，不输出文件，二是放在内存中；需要使用HotModuleReplacementPlugin插件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"script": {\n    ...\n    "dev":"webpack-dev-server --open"\n}\n')])])]),a("p",[t._v("webpack.config.js文件中配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("plugins: [\n    new webpack.HotModuleReplacementPlugin()\n],\n\ndevServer: {\n    contentBase: './dist',\n    hot: true\n}\n")])])]),a("h2",{attrs:{id:"文件指纹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件指纹","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件指纹")]),t._v(" "),a("p",[t._v("打包后输出的文件名的后缀")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("未完待续...")])])},[],!1,null,null,null);e.default=n.exports}}]);